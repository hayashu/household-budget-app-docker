# ğŸ  å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª (Household Budget App)

React + TypeScript + Node.js + PostgreSQL ã§æ§‹ç¯‰ã•ã‚ŒãŸãƒ¢ãƒ€ãƒ³ãªå®¶è¨ˆç°¿ç®¡ç†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ©Ÿèƒ½](#æ©Ÿèƒ½)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [APIä»•æ§˜](#apiä»•æ§˜)
- [é–‹ç™º](#é–‹ç™º)
- [ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ‡ãƒ—ãƒ­ã‚¤)
- [è²¢çŒ®](#è²¢çŒ®)

## âœ¨ æ©Ÿèƒ½

### ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- åå…¥ãƒ»æ”¯å‡ºãƒ»æ®‹é«˜ã®ã‚µãƒãƒªãƒ¼è¡¨ç¤º
- æœˆåˆ¥åæ”¯ã‚°ãƒ©ãƒ•
- ã‚«ãƒ†ã‚´ãƒªåˆ¥æ”¯å‡ºå††ã‚°ãƒ©ãƒ•
- æ”¯å‡ºãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

### ğŸ’° å–å¼•ç®¡ç†
- åå…¥ãƒ»æ”¯å‡ºã®è¨˜éŒ²
- ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
- ãƒ¡ãƒ¢æ©Ÿèƒ½
- å–å¼•å±¥æ­´ã®è¡¨ç¤ºãƒ»ç·¨é›†ãƒ»å‰Šé™¤

### ğŸ“ ã‚«ãƒ†ã‚´ãƒªç®¡ç†
- ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ†ã‚´ãƒªã®ä½œæˆ
- ã‚«ãƒ†ã‚´ãƒªã®ç·¨é›†ãƒ»å‰Šé™¤
- ã‚«ãƒ†ã‚´ãƒªåˆ¥çµ±è¨ˆ

### ğŸ“ˆ åˆ†ææ©Ÿèƒ½
- æœˆåˆ¥åæ”¯åˆ†æ
- ã‚«ãƒ†ã‚´ãƒªåˆ¥æ”¯å‡ºåˆ†æ
- æ”¯å‡ºãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React 19** - UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **TypeScript** - å‹å®‰å…¨æ€§
- **Vite** - ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **Tailwind CSS** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **DaisyUI** - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Recharts** - ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆ
- **React Router** - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **Axios** - HTTPé€šä¿¡

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Node.js** - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ 
- **Express.js** - Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript** - å‹å®‰å…¨æ€§
- **PostgreSQL** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **pg** - PostgreSQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Docker** - ã‚³ãƒ³ãƒ†ãƒŠåŒ–
- **Docker Compose** - ãƒãƒ«ãƒã‚³ãƒ³ãƒ†ãƒŠç®¡ç†
- **Nginx** - ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Docker & Docker Compose
- Node.js 20+ (ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/hayashu/household-budget-app-docker.git
cd household-budget-app-docker
```

<!-- ### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å¿…è¦ãªè¨­å®šã‚’è¡Œã£ã¦ãã ã•ã„
``` -->

### 2. Dockerã§ã®èµ·å‹•

#### é–‹ç™ºç’°å¢ƒ
```bash
# é–‹ç™ºç’°å¢ƒã§èµ·å‹•
docker compose -f docker-compose.dev.yml up --build

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•
docker compose -f docker-compose.dev.yml up --build -d

# åœæ­¢
docker compose -f docker-compose.dev.yml down
```

#### æœ¬ç•ªç’°å¢ƒ
```bash
# æœ¬ç•ªç’°å¢ƒã§èµ·å‹•
docker compose up --build

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•
docker compose up --build -d

# åœæ­¢
docker compose down
```

### 3. ã‚¢ã‚¯ã‚»ã‚¹
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: http://localhost:5173 (é–‹ç™º) / http://localhost:80 (æœ¬ç•ª)
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API**: http://localhost:8080
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: localhost:5432

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
1. ãƒ›ãƒ¼ãƒ ç”»é¢ã§åæ”¯ã‚µãƒãƒªãƒ¼ã‚’ç¢ºèª
2. ã‚°ãƒ©ãƒ•ã§æœˆåˆ¥ãƒ»ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®åˆ†æã‚’ç¢ºèª
3. æœ€è¿‘ã®å–å¼•å±¥æ­´ã‚’ç¢ºèª

### å–å¼•ã®è¿½åŠ 
1. ã€Œæ–°è¦è¿½åŠ ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
2. å–å¼•ã‚¿ã‚¤ãƒ—ï¼ˆåå…¥/æ”¯å‡ºï¼‰ã‚’é¸æŠ
3. é‡‘é¡ã€ã‚«ãƒ†ã‚´ãƒªã€æ—¥ä»˜ã€ãƒ¡ãƒ¢ã‚’å…¥åŠ›
4. ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### ã‚«ãƒ†ã‚´ãƒªç®¡ç†
1. ã€Œã‚«ãƒ†ã‚´ãƒªã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
2. æ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ 
3. æ—¢å­˜ã‚«ãƒ†ã‚´ãƒªã‚’ç·¨é›†ãƒ»å‰Šé™¤

### å–å¼•å±¥æ­´
1. ã€Œå–å¼•å±¥æ­´ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
2. å–å¼•ã®è©³ç´°ã‚’ç¢ºèª
3. ç·¨é›†ãƒ»å‰Šé™¤ã‚’å®Ÿè¡Œ

## ğŸ”Œ APIä»•æ§˜

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### å–å¼•ç®¡ç†
- `GET /api/transactions` - å…¨å–å¼•å–å¾—
- `GET /api/transactions/:id` - ç‰¹å®šå–å¼•å–å¾—
- `POST /api/transactions` - å–å¼•ä½œæˆ
- `PUT /api/transactions/:id` - å–å¼•æ›´æ–°
- `DELETE /api/transactions/:id` - å–å¼•å‰Šé™¤
- `GET /api/transactions/summary` - åæ”¯ã‚µãƒãƒªãƒ¼
- `GET /api/transactions/monthly` - æœˆåˆ¥ãƒ‡ãƒ¼ã‚¿
- `GET /api/transactions/category` - ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ‡ãƒ¼ã‚¿

#### ã‚«ãƒ†ã‚´ãƒªç®¡ç†
- `GET /api/categories` - å…¨ã‚«ãƒ†ã‚´ãƒªå–å¾—
- `GET /api/categories/:id` - ç‰¹å®šã‚«ãƒ†ã‚´ãƒªå–å¾—
- `POST /api/categories` - ã‚«ãƒ†ã‚´ãƒªä½œæˆ
- `PUT /api/categories/:id` - ã‚«ãƒ†ã‚´ãƒªæ›´æ–°
- `DELETE /api/categories/:id` - ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤

### ãƒ‡ãƒ¼ã‚¿å½¢å¼

#### å–å¼•
```json
{
  "id": 1,
  "type": "expense",
  "amount": "20000.00",
  "date": "2025-08-20T00:00:00.000Z",
  "category_id": 1,
  "memo": "é£Ÿè²»",
  "category_name": "é£Ÿè²»"
}
```

#### ã‚«ãƒ†ã‚´ãƒª
```json
{
  "id": 1,
  "name": "é£Ÿè²»",
  "type": "expense",
  "color": "#ff0000"
}
```

## ğŸ›  é–‹ç™º

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```bash
cd client
npm install
npm run dev
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```bash
cd server
npm install
npm run dev
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
```bash
# PostgreSQLã‚’ç›´æ¥èµ·å‹•
docker run -d \
  --name postgres \
  -e POSTGRES_DB=household_budget \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=password \
  -p 5432:5432 \
  postgres:15-alpine
```

### ãƒ†ã‚¹ãƒˆ
```bash
# ã‚µãƒ¼ãƒãƒ¼ã®ãƒ†ã‚¹ãƒˆ
cd server
npm test

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
cd client
npm test
```

### ã‚³ãƒ¼ãƒ‰å“è³ª
```bash
# ãƒªãƒ³ã‚¿ãƒ¼
npm run lint

# ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
npm run format
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Docker Compose (æ¨å¥¨)
```bash
# æœ¬ç•ªç’°å¢ƒç”¨ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
cp env.example .env.prod

# æœ¬ç•ªç’°å¢ƒã§èµ·å‹•
docker compose -f docker-compose.yml up --build -d
```

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰
cd client
npm run build

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰
cd server
npm run build

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npm run migrate
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
household-budget-app-docker/
â”œâ”€â”€ client/                 # Reactãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/         # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ services/      # APIé€šä¿¡
â”‚   â”‚   â””â”€â”€ types/         # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ Dockerfile         # æœ¬ç•ªç”¨Dockerfile
â”‚   â””â”€â”€ Dockerfile.dev     # é–‹ç™ºç”¨Dockerfile
â”œâ”€â”€ server/                # Node.jsãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/   # ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ models/        # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ routes/        # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â”‚   â”‚   â””â”€â”€ types/         # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ database/              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ migrations/        # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ seeds/            # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ docker-compose.yml     # æœ¬ç•ªç’°å¢ƒè¨­å®š
â”œâ”€â”€ docker-compose.dev.yml # é–‹ç™ºç’°å¢ƒè¨­å®š
â””â”€â”€ README.md
```

## ğŸ¤ è²¢çŒ®

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### Viteã®èµ·å‹•ã‚¨ãƒ©ãƒ¼
```bash
# Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
node --version  # 20ä»¥ä¸Šã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

# ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd client
rm -rf node_modules package-lock.json
npm install
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ç¢ºèª
docker ps

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ã‚°ã®ç¢ºèª
docker logs household-budget-app-docker-database

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å†èµ·å‹•
docker compose restart database
```

#### ãƒãƒ¼ãƒˆç«¶åˆ
```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª
lsof -i :5173
lsof -i :8080
lsof -i :5432

# ç«¶åˆã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
kill -9 <PID>
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§ã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã¦ãã ã•ã„ï¼š

1. [Issues](../../issues) ã§æ—¢å­˜ã®å•é¡Œã‚’ç¢ºèª
2. æ–°ã—ã„Issueã‚’ä½œæˆã—ã€è©³ç´°ãªæƒ…å ±ã‚’æä¾›
3. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚„ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ·»ä»˜

---

**Happy Budgeting! ğŸ’°**
